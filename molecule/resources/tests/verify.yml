---
# This is an example playbook to execute Ansible tests.
- name: Verify
  hosts: all
  tasks:
    - name: Gather the package facts
      package_facts:
        manager: auto

    - name: Populate service facts
      service_facts:

    - name: Assert that logstash package is installed
      assert:
        that: ansible_facts.packages['logstash']

    - name: Assert that logstash service is running
      assert:
        that: |
          "'running' in ansible_facts.services['logstash.service'].state"
          or
          "'running' in ansible_facts.services['logstash'].state"
